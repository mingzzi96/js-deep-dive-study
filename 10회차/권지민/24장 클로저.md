# ğŸ“š í´ë¡œì €

## ğŸ€ ë ‰ì‹œì»¬ ìŠ¤ì½”í”„

ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ í•¨ìˆ˜ë¥¼ ì–´ë””ì„œ í˜¸ì¶œí–ˆëŠ”ì§€ê°€ ì•„ë‹ˆë¼ í•¨ìˆ˜ë¥¼ ì–´ë””ì— ì •ì˜í–ˆëŠ”ì§€ì— ë”°ë¼ ìƒìœ„ ìŠ¤ì½”í”„ë¥¼ ê²°ì •í•œë‹¤. ì´ë¥¼ ë ‰ì‹œì»¬ ìŠ¤ì½”í”„(ì •ì  ìŠ¤ì½”í”„)ë¼ í•œë‹¤.


```js
const x = 1;

function outerFunc() {
  const x = 10;
  innerFunc();
}

function innerFunc() {
  console.log(x); // 1
}

outerFunc();
```

![image](https://github.com/mingzzi96/js-deep-dive-study/assets/134386378/9545293f-4b9c-4d50-b402-622a94c0a4a4)


```js
const x = 1;

function outerFunc() {
  const x = 10;

  function innerFunc() {
    console.log(x); // 10
  }

  innerFunc();
}

outerFunc();
```

![image](https://github.com/mingzzi96/js-deep-dive-study/assets/134386378/c43f4f4c-27d4-4ac8-bb3e-90653d14a500)


## ğŸ€ í´ë¡œì €ì™€ ë ‰ì‹œì»¬ í™˜ê²½

```js
const x = 1;

// â‘ 
function outer() {
  const x = 10;
  const inner = function () { console.log(x); }; // â‘¡
  return inner;
}

// outer í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ì¤‘ì²© í•¨ìˆ˜ innerë¥¼ ë°˜í™˜í•œë‹¤.
// ê·¸ë¦¬ê³  outer í•¨ìˆ˜ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ëŠ” ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ìŠ¤íƒì—ì„œ íŒë˜ì–´ ì œê±°ëœë‹¤.
const innerFunc = outer(); // â‘¢
innerFunc(); // â‘£ 10
```

ì™¸ë¶€ í•¨ìˆ˜ë³´ë‹¤ ì¤‘ì²© í•¨ìˆ˜ê°€ ë” ì˜¤ë˜ ìœ ì§€ë˜ëŠ” ê²½ìš° ì¤‘ì²© í•¨ìˆ˜ëŠ” ì´ë¯¸ ìƒëª… ì£¼ê¸°ê°€ ì¢…ë£Œí•œ ì™¸ë¶€ í•¨ìˆ˜ì˜ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.

ì´ëŸ¬í•œ ì¤‘ì²© í•¨ìˆ˜ë¥¼ í´ëŸ¬ì €ë¼ í•œë‹¤.

outer í•¨ìˆ˜ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ëŠ” ìŠ¤íƒì• ì„œ ì œê±°ë˜ì§€ë§Œ outer í•¨ìˆ˜ì˜ ë ‰ì‹œì»¬ í™˜ê²½ê¹Œì§€ ì†Œë©¸í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.

```html
<!DOCTYPE html>
<html>
<body>
  <script>
    function foo() {
      const x = 1;
      const y = 2;

      // ì¼ë°˜ì ìœ¼ë¡œ í´ë¡œì €ë¼ê³  í•˜ì§€ ì•ŠëŠ”ë‹¤.
      function bar() {
        const z = 3;

        debugger;
        // ìƒìœ„ ìŠ¤ì½”í”„ì˜ ì‹ë³„ìë¥¼ ì°¸ì¡°í•˜ì§€ ì•ŠëŠ”ë‹¤.
        console.log(z);
      }

      return bar;
    }

    const bar = foo();
    bar();
  </script>
</body>
</html>
```

ìƒìœ„ ìŠ¤ì½”í”„ì˜ ì‹ë³„ìx, yë¥¼ í•˜ë‚˜ë„ ì°¸ì¡°í•˜ì§€ ì•Šì•„ ì¼ë°˜ì ìœ¼ë¡œ í´ë¡œì €ë¡œ ë³´ì§€ ì•ŠëŠ”ë‹¤.

## ğŸ€ í´ë¡œì €ì˜ í™œìš©

í´ë¡œì €ëŠ” ìƒíƒœë¥¼ ì•ˆì „í•˜ê²Œ ì€ë‹‰í•˜ê³  íŠ¹ì • í•¨ìˆ˜ì—ê²Œë§Œ ìƒíƒœ ë³€ê²½ì„ í—ˆìš©í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.

```js
// ì¹´ìš´íŠ¸ ìƒíƒœ ë³€ìˆ˜
let num = 0;

// ì¹´ìš´íŠ¸ ìƒíƒœ ë³€ê²½ í•¨ìˆ˜
const increase = function () {
  // ì¹´ìš´íŠ¸ ìƒíƒœë¥¼ 1ë§Œí¼ ì¦ê°€ ì‹œí‚¨ë‹¤.
  return ++num;
};

console.log(increase()); // 1
console.log(increase()); // 2
console.log(increase()); // 3
```

ìœ„ ì½”ë“œì—ì„œ `num` ì¹´ìš´íŠ¸ ìƒíƒœ ë³€ìˆ˜ëŠ” increase í•¨ìˆ˜ë§Œì´ ë³€ê²½ì‹œí‚¬ ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.

```js
// ì¹´ìš´íŠ¸ ìƒíƒœ ë³€ê²½ í•¨ìˆ˜
const increase = function () {
  // ì¹´ìš´íŠ¸ ìƒíƒœ ë³€ìˆ˜
  let num = 0;

  // ì¹´ìš´íŠ¸ ìƒíƒœë¥¼ 1ë§Œí¼ ì¦ê°€ ì‹œí‚¨ë‹¤.
  return ++num;
};

// ì´ì „ ìƒíƒœë¥¼ ìœ ì§€í•˜ì§€ ëª»í•œë‹¤.
console.log(increase()); // 1
console.log(increase()); // 1
console.log(increase()); // 1
```

`num`ì„ ì§€ì—­ ë³€ìˆ˜ë¡œ ë³€ê²½í•˜ì—¬ `increase` í•¨ìˆ˜ë§Œì´ ë³€ê²½í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.

í•˜ì§€ë§Œ `increase` í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•Œë§ˆë‹¤ ì§€ì—­ ë³€ìˆ˜ `num`ì€ ë‹¤ì‹œ ì„ ì–¸ë˜ê³  0ìœ¼ë¡œ ì´ˆê¸°í™” ëœë‹¤.

```js
// ì¹´ìš´íŠ¸ ìƒíƒœ ë³€ê²½ í•¨ìˆ˜
const increase = (function () {
  // ì¹´ìš´íŠ¸ ìƒíƒœ ë³€ìˆ˜
  let num = 0;

  // í´ë¡œì €
  return function () {
    // ì¹´ìš´íŠ¸ ìƒíƒœë¥¼ 1ë§Œí¼ ì¦ê°€ ì‹œí‚¨ë‹¤.
    return ++num;
  };
}());

console.log(increase()); // 1
console.log(increase()); // 2
console.log(increase()); // 3
```

ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ê³  ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ê°€ ë°˜í™˜í•œ í•¨ìˆ˜ê°€ increase ë³€ìˆ˜ì— í• ë‹¹ëœë‹¤.

ì´ì²˜ëŸ¼ í´ë¡œì €ëŠ” ìƒíƒœê°€ ì˜ë„ì¹˜ ì•Šê²Œ ë³€ê²©ë˜ì§€ ì•Šë„ë¡ ì•ˆì „í•˜ê²Œ ì€ë‹‰í•˜ê³  íŠ¹ì • í•¨ìˆ˜ì—ê²Œë§Œ ìƒíƒœ ë³€ê²½ì„ í—ˆìš©í•˜ì—¬ ìƒíƒœë¥¼ ì•ˆì „í•˜ê²Œ ë³€ê²½í•˜ê³  ìœ ì§€í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.


## ğŸ€ ìº¡ìŠí™”ì™€ ì •ë³´ ì€ë‹‰

> ìº½ìŠí™”ë€ ê°ì²´ì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” í”„ë¡œí¼í‹°ì™€, í”„ë¡œí¼í‹°ë¥¼ ì°¸ì¡°í•˜ê³  ì¡°ì‘í•  ìˆ˜ ìˆëŠ” ë™ì‘ì¸ ë©”ì„œë“œë¥¼ í•˜ë‚˜ë¡œ ë¬¶ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ëª¨ë“  ê°ì²´ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ publicí•˜ë‹¤.

ë‹¤ìŒì˜ ì˜ˆì œì—ì„œ _age ë³€ìˆ˜ëŠ” ë‚´ë¶€ ë³€ìˆ˜ì´ë¯€ë¡œ privateí•˜ë‹¤.

í•˜ì§€ë§Œ Person ê°ì²´ê°€ ìƒì„±ë  ë•Œ ë§ˆë‹¤ ì¤‘ë³µìœ¼ë¡œ ìƒì„±ëœë‹¤.

```js
function Person(name, age) {
  this.name = name; // public
  let _age = age;   // private

  // ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ
  this.sayHi = function () {
    console.log(`Hi! My name is ${this.name}. I am ${_age}.`);
  };
}

const me = new Person('Lee', 20);
me.sayHi(); // Hi! My name is Lee. I am 20.
console.log(me.name); // Lee
console.log(me._age); // undefined

const you = new Person('Kim', 30);
you.sayHi(); // Hi! My name is Kim. I am 30.
console.log(you.name); // Kim
console.log(you._age); // undefined
```

ì•„ë˜ì˜ ì˜ˆì œì—ì„œ Person.prototype.sayHi ë©”ì„œë“œëŠ” ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ì˜ ì§€ì—­ ë³€ìˆ˜ _ageë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” í´ë¡œì €ì´ë¯€ë¡œ, ì¤‘ë³µ ìƒì„± ì—†ì´ private ë³€ìˆ˜ì— ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤.

í•˜ì§€ë§Œ ì—¬ëŸ¬ ê°œì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ê²½ìš° ë³€ìˆ˜ì˜ ìƒíƒœê°€ ìœ ì§€ë˜ì§€ ì•ŠëŠ”ë‹¤.

í•´ë‹¹ ë©”ì„œë“œëŠ” ë‹¨ í•œë²ˆì”©ë§Œ ìƒì„±ë˜ëŠ” í´ë¡œì €ì´ê¸° ë•Œë¬¸ì´ë‹¤.

```js
const Person = (function () {
  let _age = 0; // private

  // ìƒì„±ì í•¨ìˆ˜
  function Person(name, age) {
    this.name = name; // public
    _age = age;
  }

  // í”„ë¡œí† íƒ€ì… ë©”ì„œë“œ
  Person.prototype.sayHi = function () {
    console.log(`Hi! My name is ${this.name}. I am ${_age}.`);
  };

  // ìƒì„±ì í•¨ìˆ˜ë¥¼ ë°˜í™˜
  return Person;
}());

const me = new Person('Lee', 20);
me.sayHi(); // Hi! My name is Lee. I am 20.
console.log(me.name); // Lee
console.log(me._age); // undefined

const you = new Person('Kim', 30);
you.sayHi(); // Hi! My name is Kim. I am 30.
console.log(you.name); // Kim
console.log(you._age); // undefined
```

## ğŸ€ ìì£¼ ë°œìƒí•˜ëŠ” ì‹¤ìˆ˜

ë‹¤ìŒì˜ ì˜ˆì œì—ì„œ forë¬¸ ì•ˆì— ìˆëŠ” var i ë³€ìˆ˜ëŠ” í•¨ìˆ˜ ìŠ¤ì½”í”„ë§Œì„ ë”°ë¥´ê¸° ë•Œë¬¸ì— ì „ì—­ ë³€ìˆ˜ì´ë‹¤.

ë”°ë¼ì„œ funcs ë°°ì—´ ì•ˆì— ì €ì¥ëœ 3ê°œì˜ í•¨ìˆ˜ëŠ” ëª¨ë‘ 3ì„ ë°˜í™˜í•œë‹¤.

```js
var funcs = [];

for (var i = 0; i < 3; i++) {
  funcs[i] = function () { return i; }; // â‘ 
}

for (var j = 0; j < funcs.length; j++) {
  console.log(funcs[j]()); // â‘¡
}
```

í´ë¡œì €ë¥¼ í™œìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.

```js
var funcs = [];

for (var i = 0; i < 3; i++){
  funcs[i] = (function (id) { // â‘ 
    return function () {
      return id;
    };
  }(i));
}

for (var j = 0; j < funcs.length; j++) {
  console.log(funcs[j]());
}
```
ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ê°€ ë°˜í™˜í•œ ì¤‘ì²© í•¨ìˆ˜ëŠ” ìì‹ ì˜ ìƒìœ„ ìŠ¤ì½”í”„ë¥¼ ê¸°ì–µí•˜ëŠ” í´ë¡œì €ì´ë‹¤.

ë§¤ê°œë³€ìˆ˜ idëŠ” ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ê°€ ë°˜í™˜í•œ ì¤‘ì²© í•¨ìˆ˜ì— ë¬¶ì—¬ìˆëŠ” ììœ  ë³€ìˆ˜ê°€ ë˜ì–´ ê·¸ ê°’ì´ ìœ ì§€ëœë‹¤.

const, let í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ë” ê¹”ë”í•˜ê²Œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

const, let ë³€ìˆ˜ëŠ” ë¸”ë¡ ë ˆë²¨ ìŠ¤ì½”í”„ë¥¼ ë”°ë¥´ê¸° ë•Œë¬¸ì— ë°˜ë³µë¬¸ì´ ëŒ ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ ë ‰ì‹œì»¬ ìŠ¤ì½”í”„ë¥¼ ìƒì„±í•œë‹¤.

```js
const funcs = [];

for (let i = 0; i < 3; i++) {
  funcs[i] = function () { return i; };
}

for (let i = 0; i < funcs.length; i++) {
  console.log(funcs[i]()); // 0 1 2
}
```

ë˜ëŠ” í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ê¸°ë²•ì¸ ê³ ì°¨ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
```js
// ìš”ì†Œê°€ 3ê°œì¸ ë°°ì—´ì„ ìƒì„±í•˜ê³  ë°°ì—´ì˜ ì¸ë±ìŠ¤ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ìš”ì†Œë¡œ ì¶”ê°€í•œë‹¤.
// ë°°ì—´ì˜ ìš”ì†Œë¡œ ì¶”ê°€ëœ í•¨ìˆ˜ë“¤ì€ ëª¨ë‘ í´ë¡œì €ë‹¤.
const funcs = Array.from(new Array(3), (_, i) => () => i); // (3) [Æ’, Æ’, Æ’]

// ë°°ì—´ì˜ ìš”ì†Œë¡œ ì¶”ê°€ëœ í•¨ìˆ˜ ë“¤ì„ ìˆœì°¨ì ìœ¼ë¡œ í˜¸ì¶œí•œë‹¤.
funcs.forEach(f => console.log(f())); // 0 1 2
```
